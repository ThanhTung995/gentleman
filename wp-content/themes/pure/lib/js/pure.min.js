!function(e){"use strict";var t,i;({settings:{document:e(document),body:e(document.body),window:e(window),browserWidth:0,browserHeight:0,menuToggler:e(".menu-toggler"),mobileMenuItem:e(".site-navigation.mobile").find("a"),mobileMenuToggler:e(".dropdown-toggler")},init:function(){t=this.settings,i=this,t.window.on("load",function(){i.responsiveVideo()}),"function"==typeof Slideout&&(this.initSlideout(),t.mobileMenuItem.on("click",this.openMobileMenu),t.mobileMenuToggler.on("click",this.toggleMobileMenu)),e(".back-to-top").on("click",this.backToTop),this.initSlick(),this.updateBrowserDimension(),this.fullWidthDiv(),this.initIsotope(),window.addEventListener("resize",i.debounce(function(){i.updateBrowserDimension(),i.fullWidthDiv()},200)),this.initPhotoSwipeFromDOM(".pure-gallery"),e(".change-loop-layout span").on("click",this.changeLoopLayout),e(".pure-search-trigger").on("click",this.searchHandler),this.centerLogo(),e(".search-toggler").on("click",this.toggleSearch)},updateBrowserDimension:function(){t.browserWidth=t.window.width(),t.browserHeight=t.window.height()},debounce:function(e,t,i){var n;return function(){var o=this,r=arguments,l=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||e.apply(o,r)},t),l&&e.apply(o,r)}},clickOutsideDivHandler:function(t,i){var n=Array.prototype.slice.call(arguments);e(document).on("mouseup.clickOFF touchend.clickOFF",function(o){var r=e(t);r.is(o.target)||0!==r.has(o.target).length||(e(document).off("mouseup.clickOFF touchend.clickOFF"),i&&i.apply(this,n))})},initSlideout:function(){var e=new Slideout({panel:document.getElementById("page"),menu:document.getElementById("slideout"),padding:256,tolerance:70,touch:!1});e.once("open",e._initTouchEvents),e.on("open",e.enableTouch),e.on("close",e.disableTouch),t.menuToggler.on("click",function(){e.toggle()})},openMobileMenu:function(t){t.preventDefault();var i=e(this),n=i.attr("href"),o=i.parent();return o.hasClass("menu-item-has-children")?o.hasClass("open")?(window.location.href=n,null):(o.find("> ul").slideDown(),void o.addClass("open")):(window.location.href=n,null)},toggleMobileMenu:function(){e(this).parent().find("> ul").slideToggle(),e(this).parent().toggleClass("open")},initSlick:function(){e(".slick").each(function(){e(this).slick()})},fullWidthDiv:function(){e("div.full-width").each(function(){var i=e(this),n=i.parent().outerWidth(),o=.5*(t.browserWidth-n);i.css("margin-left","-"+o+"px"),i.css("margin-right","-"+o+"px")})},backToTop:function(){return e("html,body").animate({scrollTop:0},"slow"),!1},initIsotope:function(){var t=e(".grid");t.is(":empty")||(t.hasClass("fitrows")?t.isotope({layoutMode:"fitRows",itemSelector:".grid-item",percentPosition:!0}):t.isotope({masonry:{columnWidth:".grid-sizer"},itemSelector:".grid-item",percentPosition:!0}),t.imagesLoaded(function(){t.isotope("layout")}))},initPhotoSwipeFromDOM:function(e){for(var t=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var t=function e(t,i){return t&&(i(t)?t:e(t.parentNode,i))}(e.target||e.srcElement,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(t){for(var n,o=t.parentNode,r=t.parentNode.childNodes,l=r.length,a=0,s=0;s<l;s++)if(1===r[s].nodeType){if(r[s]===t){n=a;break}a++}return n>=0&&i(n,o),!1}},i=function(e,t,i,n){var o,r,l=document.querySelectorAll(".pswp")[0];if(r=function(e){for(var t,i,n,o,r=e.childNodes,l=r.length,a=[],s=0;s<l;s++)1===(t=r[s]).nodeType&&"FIGURE"===t.nodeName&&(n=(i=t.children[0]).getAttribute("data-size").split("x"),o={src:i.getAttribute("href"),w:parseInt(n[0],10),h:parseInt(n[1],10)},t.children.length>1&&(o.title=t.children[1].innerHTML),i.children.length>0&&(o.msrc=i.children[0].getAttribute("src")),o.el=t,a.push(o));return a}(t),o={galleryUID:t.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=r[e].el.getElementsByTagName("img")[0],i=window.pageYOffset||document.documentElement.scrollTop,n=t.getBoundingClientRect();return{x:n.left,y:n.top+i,w:n.width}}},n)if(o.galleryPIDs){for(var a=0;a<r.length;a++)if(r[a].pid==e){o.index=a;break}}else o.index=parseInt(e,10)-1;else o.index=parseInt(e,10);isNaN(o.index)||(i&&(o.showAnimationDuration=0),new PhotoSwipe(l,PhotoSwipeUI_Default,r,o).init())},n=document.querySelectorAll(e),o=0,r=n.length;o<r;o++)n[o].setAttribute("data-pswp-uid",o+1),n[o].onclick=t;var l=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var i=e.split("&"),n=0;n<i.length;n++)if(i[n]){var o=i[n].split("=");o.length<2||(t[o[0]]=o[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t}();l.pid&&l.gid&&i(l.pid,n[l.gid-1],!0,!0)},changeLoopLayout:function(){var t=e(this),i=t.attr("data-layout"),n=t.parent().attr("data-target"),o=e(n);o.removeClass("loop--list"),o.removeClass("loop--grid"),o.addClass("loop--"+i)},searchHandler:function(t){t.preventDefault(),e(".pure-search-holder").fadeIn().addClass("active").find("input").focus(),i.clickOutsideDivHandler(".pure-search-holder .inner",i.closeSearchHolder)},closeSearchHolder:function(){e(".pure-search-holder").fadeOut().removeClass("active")},centerLogo:function(){var t=e(".site-header.v1");if(0!==t.length){var i=t.find(".site-title");if(0!==i.length){var n=t.find(".middle"),o=n.offset(),r=i.first(),l=!1,a=!1;r.prevAll().each(function(){var t=e(this),i=t.attr("class");if(void 0!==i&&-1!==i.indexOf("flex"))return l=t,a=i,!1}),a&&l.css("flex-grow","0");var s=r.offset(),c=r.outerWidth(),u=n.outerWidth()/2-(s.left-o.left)-c/2;u<=0||(a?l.css("width",u+"px"):r.css("margin-left",u+"px"))}}},responsiveVideo:function(){var t=e(".single-content > .entry-content"),i=t.find("iframe"),n=t.width();i.each(function(){var t=e(this);-1!=t.attr("src").indexOf("youtube")&&t.css({width:n+"px",height:.5625*n+"px"})})},toggleSearch:function(){var t=e(this),n=e(".search-holder");n.toggleClass("active"),n.hasClass("active")?(n.find(".search-field").focus(),t.html('<i class="fa fa-times"></i>')):t.html('<i class="fa fa-search"></i>'),n.find(".search-close").on("click",i.toggleSearch)}}).init()}(jQuery);